<h1 style="margin-left: 10%; margin-top: 2%; margin-bottom: 2%; display:inline-block">Create, View, & Edit Tasks</h1>
<div class="plusBack" style="float: right; font-size: 50px; display: inline-block; margin-right: 12%; margin-top: 1.5%; cursor: pointer;"><i class="fas fa-plus"  title="New Task" (click)="createTask()"></i></div>
<div id="table" style="width: 80%; margin-left: 10%; margin-right: 10%; margin-bottom: 8%;">
  <table class="table table-striped table-hover table-bordered table-dark">
    <thead>
      <tr>
        <th scope="col" *ngFor="let col of columns">{{col}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks; index as i" style="color:white">
        <td>{{task.id}}</td>
        <td style="width: 50%">{{task.description}}</td>
        <td>{{task.dueDate}}</td>
        <td style="width: 12%">{{task.status}}</td>
        <td>{{task.submittedDate}}</td>
        <td>{{task.estimatedCost}}</td>
        <td><i class="fas fa-edit" (click)="editTask(i)" style="cursor: pointer;"  title="Edit Task"></i></td>
      </tr>
    </tbody>
  </table>
</div>


<!-- The Modal -->
<div class="modal fade" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" style="color: black">Task: {{selectedTask.description}}</h4>
        <button type="button" class="close" (click)="hideModal()">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="card" style="color: black !important;">
        <div>
          <div>
            <label>Due Date: </label><input [(ngModel)]="selectedTask.dueDate">
          </div>
          <div>
            <label>Estimated Cost: </label><input [(ngModel)]="selectedTask.estimatedCost">
          </div>
          <div>
            <label>Status: </label>
            <div class="form-group" style="width: 37%; display: inline-block; position: fixed; left: 25%;"*ngIf="selectedTask.status!='Completed'">
              <select class="form-control" id="sel1">
                <option [selected]="selectedTask.status=='Not Yet Started'">Not Yet Started</option>
                <option [selected]="selectedTask.status=='In Progress'">In Progress</option>
              </select>
            </div>
            <span *ngIf="selectedTask.status=='Completed'">Completed</span>
          <div style="margin-top: 2%;">
            <label>Submitted: </label><span>  {{selectedTask.submittedDate}}</span>
          </div>
        </div>

            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-success">Complete</button>
              <button type="button" class="btn btn-danger">Delete</button>
              <button type="button" class="btn btn-primary">Update</button>
      
              <!-- this button is hidden, used to close from typescript -->
              <button type="button" id="close-modal" data-dismiss="modal" style="display: none">Close</button>
            </div>
          </div>
        </div>
      </div>