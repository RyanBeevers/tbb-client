<h1 style="margin-left: 10%; margin-top: 2%; margin-bottom: 2%; display:inline-block">Create, View, & Edit Tasks</h1>
<div class="plusBack" style="float: right; font-size: 50px; margin-right: 12%; margin-top: 1.5%; cursor: pointer;"><i class="fas fa-plus"  title="New Task" (click)="createOrEditTask()"></i></div>
<br>
<div style="margin-left: 10%;">
  <div class="dropdown" style="display: inline-block;">
    <button style=" margin-right: 3%;" *ngIf="this.user.roleType=='admin'" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {{viewingUser}}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" style="color:white;" (click)="getAllTasks()">All</a>
      <a class="dropdown-item" *ngFor="let user of users[0]; index as i" style="color:white;" (click)="getUser(i)">{{user.businessName}}</a>
    </div>
  </div>
  <div class="btn-group" role="group" style="display: inline-block;">
    <button type="button" class="btn btn-secondary" (click)="viewAll()">All</button>
    <button type="button" class="btn btn-secondary" (click)="viewIncomplete()">Incomplete</button>
    <button type="button" class="btn btn-secondary" (click)="viewCompleted()">Completed</button>
    <button *ngIf="processing" type="button" class="btn btn-secondary"><i class="fas fa-spinner fa-spin"></i>   Processing Filter</button>
  </div>
</div>  
<div id="table" style="width: 80%; margin-left: 10%; margin-right: 10%; margin-bottom: 8%;">
  <table style="margin-top: 2%;" class="table table-striped table-hover table-bordered table-dark">
    <thead>
      <tr>
        <th scope="col" *ngFor="let col of columns">{{col}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks[0]; index as i" style="color:white">
        <td>{{task.taskId}}</td>
        <td style="width: 50%">{{task.taskDesc}}</td>
        <td>{{task.taskDueDate}}</td>
        <td style="width: 12%">{{task.taskStatus}}</td>
        <td>{{task.taskSubmittedDate}}</td>
        <td>{{task.taskEstimatedCost}}</td>
        <td><i class="fas fa-edit" (click)="createOrEditTask(i)" style="cursor: pointer;"  title="Edit Task"></i></td>
      </tr>
    </tbody>
  </table>
</div>